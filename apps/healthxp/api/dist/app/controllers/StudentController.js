'use strict';function a7_0xb8a3(_0x133c77,_0x9b2ac2){const _0x55752d=a7_0x5575();return a7_0xb8a3=function(_0xb8a319,_0x28c82e){_0xb8a319=_0xb8a319-0x159;let _0x433361=_0x55752d[_0xb8a319];return _0x433361;},a7_0xb8a3(_0x133c77,_0x9b2ac2);}const a7_0x5cdeb6=a7_0xb8a3;(function(_0x6427c1,_0x1c65ea){const _0x479093=a7_0xb8a3,_0xd59c67=_0x6427c1();while(!![]){try{const _0x3a3c1b=parseInt(_0x479093(0x16d))/0x1+parseInt(_0x479093(0x16b))/0x2+parseInt(_0x479093(0x178))/0x3+-parseInt(_0x479093(0x171))/0x4+-parseInt(_0x479093(0x160))/0x5+parseInt(_0x479093(0x175))/0x6*(parseInt(_0x479093(0x168))/0x7)+-parseInt(_0x479093(0x173))/0x8;if(_0x3a3c1b===_0x1c65ea)break;else _0xd59c67['push'](_0xd59c67['shift']());}catch(_0x44d370){_0xd59c67['push'](_0xd59c67['shift']());}}}(a7_0x5575,0x4ca52));function a7_0x5575(){const _0x36efad=['findByPk','1782436mQswst','ceil','723704AUUifT','perPage','521718lbpAbd','../models/Enrollment','sequelize','183669enLugl','create','name','default','body','status','json','User\x20has\x20enrollment','findOne','store','Student\x20not\x20found','Student\x20Not\x20Found','query','774720twZZRq','update','count','destroy','send','rows','index','page','49ioVOql','ASC','Duplicate\x20email','108428KhQJnm','params','280846VdaSfc','email','defineProperty'];a7_0x5575=function(){return _0x36efad;};return a7_0x5575();}Object[a7_0x5cdeb6(0x16f)](exports,'__esModule',{'value':!![]});function _interopRequireDefault(_0x3cf84b){return _0x3cf84b&&_0x3cf84b['__esModule']?_0x3cf84b:{'default':_0x3cf84b};}var _sequelize=require(a7_0x5cdeb6(0x177)),_Student=require('../models/Student'),_Student2=_interopRequireDefault(_Student),_Enrollment=require(a7_0x5cdeb6(0x176)),_Enrollment2=_interopRequireDefault(_Enrollment);class StudentController{async[a7_0x5cdeb6(0x166)](_0x540d52,_0x255bd2){const _0x2cadcb=a7_0x5cdeb6,_0x2e5885=_0x540d52[_0x2cadcb(0x15f)]['name']||'',_0xaa7199=parseInt(_0x540d52[_0x2cadcb(0x15f)][_0x2cadcb(0x167)]||0x1,0xa),_0x3a7853=parseInt(_0x540d52[_0x2cadcb(0x15f)][_0x2cadcb(0x174)]||0x5,0xa),_0x1d57bb=await _Student2['default']['findAndCountAll']({'order':[_0x2cadcb(0x17a)],'where':{'name':{[_sequelize['Op']['iLike']]:'%'+_0x2e5885+'%'}},'order':[['id',_0x2cadcb(0x169)]],'limit':_0x3a7853,'offset':(_0xaa7199-0x1)*_0x3a7853}),_0x37f12d=Math[_0x2cadcb(0x172)](_0x1d57bb[_0x2cadcb(0x162)]/_0x3a7853);return _0x255bd2[_0x2cadcb(0x159)]({'page':_0xaa7199,'perPage':_0x3a7853,'data':_0x1d57bb[_0x2cadcb(0x165)],'total':_0x1d57bb[_0x2cadcb(0x162)],'totalPage':_0x37f12d});}async['show'](_0x24a2cc,_0x353576){const _0x322df8=a7_0x5cdeb6,{id:_0x19ddd5}=_0x24a2cc[_0x322df8(0x16c)],_0x561a59=await _Student2['default']['findByPk'](_0x19ddd5);if(!_0x561a59)return _0x353576['status'](0x194)['json']({'error':'Student\x20Not\x20Found'});return _0x353576[_0x322df8(0x159)](_0x561a59);}async[a7_0x5cdeb6(0x15c)](_0x474137,_0x25a18f){const _0xa758d=a7_0x5cdeb6,_0x426fe2=await _Student2[_0xa758d(0x17b)][_0xa758d(0x15b)]({'where':{'email':_0x474137[_0xa758d(0x17c)][_0xa758d(0x16e)]}});if(_0x426fe2)return _0x25a18f[_0xa758d(0x17d)](0x199)[_0xa758d(0x159)]({'error':_0xa758d(0x16a)});const _0x34be8e=await _Student2[_0xa758d(0x17b)][_0xa758d(0x179)](_0x474137[_0xa758d(0x17c)]);return _0x25a18f['status'](0xc9)[_0xa758d(0x159)](_0x34be8e);}async[a7_0x5cdeb6(0x161)](_0x1f8239,_0x58406c){const _0x1ee989=a7_0x5cdeb6,{id:_0x471808}=_0x1f8239[_0x1ee989(0x16c)],_0x211212=await _Student2['default'][_0x1ee989(0x170)](_0x471808);if(!_0x211212)return _0x58406c['status'](0x190)['json']({'error':_0x1ee989(0x15d)});return await _0x211212[_0x1ee989(0x161)](_0x1f8239[_0x1ee989(0x17c)]),_0x58406c[_0x1ee989(0x159)](_0x211212);}async[a7_0x5cdeb6(0x163)](_0x3d853e,_0x1b8c56){const _0x21968d=a7_0x5cdeb6,{id:_0x33dbf5}=_0x3d853e['params'],_0x19262b=await _Student2[_0x21968d(0x17b)]['findByPk'](_0x33dbf5);if(!_0x19262b)return _0x1b8c56['status'](0x194)['json']({'error':_0x21968d(0x15e)});const _0x89e9ba=await _Enrollment2[_0x21968d(0x17b)][_0x21968d(0x15b)]({'where':{'id':_0x33dbf5}});if(_0x89e9ba)return _0x1b8c56['status'](0x199)['json']({'error':_0x21968d(0x15a)});return await _0x19262b[_0x21968d(0x163)](),_0x1b8c56[_0x21968d(0x17d)](0xcc)[_0x21968d(0x164)]();}}exports['default']=new StudentController();